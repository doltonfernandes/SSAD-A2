{"ast":null,"code":"var _jsxFileName = \"/home/george/Documents/Sophmore/Spring/SSAD/AA2/frontend/src/components/login.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Route, Redirect, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      btncolor: 'btn btn-primary',\n      pas_corr: ''\n    };\n    this.onChangeUsername = this.onChangeUsername.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.isloggedin();\n  }\n\n  onChangeUsername(event) {\n    this.setState({\n      username: event.target.value\n    });\n  }\n\n  onChangePassword(event) {\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  funfun(res) {\n    sessionStorage.setItem(\"zzz\", res.token);\n    sessionStorage.setItem(\"type\", res.user.type);\n    sessionStorage.setItem(\"name\", res.user.username);\n    let x = sessionStorage.getItem(\"zzz\");\n    if (x != null && x != \"null\") window.location.replace(\"/\");\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const newUser = {\n      username: this.state.username,\n      password: this.state.password\n    };\n    let k = \"\";\n    sessionStorage.setItem(\"zzz\", null);\n    axios.post('http://localhost:4000/user/login', newUser).then(res => this.funfun(res.data));\n    this.setState({\n      username: '',\n      password: '',\n      btncolor: 'btn btn-danger',\n      pas_corr: 'Wrong credentials or user doesnt exist'\n    });\n  }\n\n  isloggedin() {\n    let x = sessionStorage.getItem(\"zzz\");\n    console.log(\"k\" + x);\n    if (x != null && x != \"null\") window.location.replace(\"/\");\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Username: \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.username,\n      onChange: this.onChangeUsername,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Password: \"), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      value: this.state.password,\n      onChange: this.onChangePassword,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Login\",\n      className: this.state.btncolor,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    })), this.state.pas_corr));\n  }\n\n}","map":{"version":3,"sources":["/home/george/Documents/Sophmore/Spring/SSAD/AA2/frontend/src/components/login.js"],"names":["React","Component","axios","BrowserRouter","Router","Route","Redirect","Link","Login","constructor","props","state","username","password","btncolor","pas_corr","onChangeUsername","bind","onChangePassword","onSubmit","isloggedin","event","setState","target","value","funfun","res","sessionStorage","setItem","token","user","type","x","getItem","window","location","replace","e","preventDefault","newUser","k","post","then","data","console","log","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Route,Redirect, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\"\n\nexport default class Login extends Component {\n    \n    constructor(props) {\n        super(props);\n\n        this.state = {\n            username: '',\n            password: '',\n            btncolor: 'btn btn-primary',\n            pas_corr: ''\n        }\n\n        this.onChangeUsername = this.onChangeUsername.bind(this);\n        this.onChangePassword = this.onChangePassword.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n        this.isloggedin();\n    }\n    \n    onChangeUsername(event) {\n        this.setState({ username: event.target.value });\n    }\n\n    onChangePassword(event) {\n        this.setState({ password: event.target.value });\n    }\n\n    funfun(res){\n        sessionStorage.setItem(\"zzz\",res.token);\n        sessionStorage.setItem(\"type\",res.user.type);\n        sessionStorage.setItem(\"name\",res.user.username);\n        let x=sessionStorage.getItem(\"zzz\");\n        if( x!=null && x!=\"null\" )\n            window.location.replace(\"/\");\n    }\n\n    onSubmit(e) {\n        e.preventDefault();\n\n        const newUser = {\n            username: this.state.username,\n            password: this.state.password\n        }\n        let k=\"\";\n        sessionStorage.setItem(\"zzz\",null);\n        axios.post('http://localhost:4000/user/login', newUser)\n             .then(res => this.funfun(res.data));\n        this.setState({\n            username: '',\n            password: '',\n            btncolor: 'btn btn-danger',\n            pas_corr: 'Wrong credentials or user doesnt exist'\n        });\n    }\n    isloggedin() {\n        let x=sessionStorage.getItem(\"zzz\");\n        console.log(\"k\"+x);\n        if( x!=null && x!=\"null\" )\n            window.location.replace(\"/\");\n    }\n\n    render() {\n        return (\n            <div>\n                <form onSubmit={this.onSubmit}>\n                    <div className=\"form-group\">\n                        <label>Username: </label>\n                        <input type=\"text\" \n                               className=\"form-control\" \n                               value={this.state.username}\n                               onChange={this.onChangeUsername}\n                               />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Password: </label>\n                        <input type=\"password\" \n                               className=\"form-control\" \n                               value={this.state.password}\n                               onChange={this.onChangePassword}\n                               />  \n                    </div>\n                    <div className=\"form-group\">\n                        <input type=\"submit\" value=\"Login\" className={this.state.btncolor}/>\n                    </div>\n                    { this.state.pas_corr }\n                </form>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}