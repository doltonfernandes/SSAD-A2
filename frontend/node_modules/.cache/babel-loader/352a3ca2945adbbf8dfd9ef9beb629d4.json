{"ast":null,"code":"var _jsxFileName = \"/home/george/Documents/Sophmore/Spring/SSAD/SSAD-A2/frontend/src/components/order-list-component-customer.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Card, Button, Form } from 'react-bootstrap';\nexport default class Orderlist extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: [],\n      ori: [],\n      qty: 0,\n      email: '',\n      item: []\n    };\n    this.onChangeQty = this.onChangeQty.bind(this);\n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.fun = this.fun.bind(this);\n  }\n\n  onChangeQty(event) {\n    this.setState({\n      qty: event.target.value\n    });\n  }\n\n  onChangeEmail(event) {\n    this.tmp = event.target.value;\n    this.x = []; // console.log(this.state.email)\n\n    for (const item of this.state.ori) {\n      if (item.name.indexOf(this.tmp) != -1) this.x.push(item);\n    }\n\n    this.setState({\n      users: this.x\n    });\n    this.setState({\n      email: event.target.value\n    }); // console.log(this.x);\n  }\n\n  fuzzySearch() {\n    this.tmp = this.filterValuePart(this.state.users, this.state.email);\n    console.log(this.tmp);\n  }\n\n  componentDidMount() {\n    const Token = {\n      token: sessionStorage.getItem(\"zzz\")\n    };\n    axios.post('http://localhost:4000/order/', Token).then(response => {\n      console.log(\"kk\" + response.data); // this.setState({users: response.data,ori:response.data});\n\n      this.x = [];\n\n      for (const item of response.data) {\n        if (typeof item.customer == \"string\" && item.customer == sessionStorage.getItem(\"name\")) this.x.push(item);\n      }\n\n      axios.post('http://localhost:4000/item/', Token).then(response => {\n        this.item = response.data;\n\n        for (var i = 0; i < this.x.length; i++) {\n          for (var k = 0; k < this.item.length; k = k + 1) {\n            if (this.x[i].itemid === this.item[k]._id) {\n              this.x[i].qtyleft = this.item[k].quantity;\n            }\n          }\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n      this.setState({\n        users: this.x,\n        ori: this.x\n      });\n      console.log(\"kk\" + this.state.ori[0]);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  fun() {\n    console.log(this.state);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"ORDERED ITEMS\"), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"search: \"), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      value: this.state.email,\n      onChange: this.onChangeEmail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    })), React.createElement(\"table\", {\n      className: \"table table-striped\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Status\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Quantity Ordered\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Quantity Left\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, this.state.users.map((currentUser, i) => {\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, currentUser.name), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, currentUser.st), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, currentUser.quantity), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, currentUser.qtyleft));\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/home/george/Documents/Sophmore/Spring/SSAD/SSAD-A2/frontend/src/components/order-list-component-customer.js"],"names":["React","Component","axios","Card","Button","Form","Orderlist","constructor","props","state","users","ori","qty","email","item","onChangeQty","bind","onChangeEmail","fun","event","setState","target","value","tmp","x","name","indexOf","push","fuzzySearch","filterValuePart","console","log","componentDidMount","Token","token","sessionStorage","getItem","post","then","response","data","customer","i","length","k","itemid","_id","qtyleft","quantity","catch","error","render","map","currentUser","st"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport {Card, Button,Form } from 'react-bootstrap';\n\nexport default class Orderlist extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {users: [],\n            ori:[],\n            qty:0,\n            email:'',\n            item:[]\n        }\n        this.onChangeQty = this.onChangeQty.bind(this);\n        this.onChangeEmail = this.onChangeEmail.bind(this);\n        this.fun = this.fun.bind(this);\n    }\n    onChangeQty(event) {\n        this.setState({ qty: event.target.value });\n    }\n\n    onChangeEmail(event) {\n        this.tmp=event.target.value;\n        this.x=[];\n        // console.log(this.state.email)\n        for (const item of this.state.ori){\n            if(item.name.indexOf(this.tmp)!=-1)\n                this.x.push(item);\n        }\n        this.setState({users: this.x});\n        this.setState({ email: event.target.value });\n        // console.log(this.x);\n\n    }\n    fuzzySearch()\n    {\n        this.tmp = this.filterValuePart(this.state.users,this.state.email);\n        console.log(this.tmp);\n    }\n\n\n    componentDidMount() {\n        const Token = {\n            token: sessionStorage.getItem(\"zzz\")\n        }\n        axios.post('http://localhost:4000/order/',Token)\n            .then(response => {\n                console.log(\"kk\"+ response.data);\n                // this.setState({users: response.data,ori:response.data});\n                this.x=[];\n                for (const item of response.data){\n                    if((typeof item.customer)==\"string\"&&item.customer==sessionStorage.getItem(\"name\"))\n                        this.x.push(item);\n                }\n                axios.post('http://localhost:4000/item/',Token)\n                    .then(response => {\n                        this.item=response.data;\n                        for(var i=0;i<this.x.length;i++)\n                        {\n                            for(var k=0;k<this.item.length;k=k+1)\n                            {\n                                if(this.x[i].itemid===this.item[k]._id)\n                                {\n                                    this.x[i].qtyleft=this.item[k].quantity;\n                                }\n                            }\n                        }\n\n                    })\n                    .catch(function(error) {\n                        console.log(error);\n                    })\n                this.setState({users: this.x,ori:this.x});\n                console.log(\"kk\"+this.state.ori[0]);\n            })\n            .catch(function(error) {\n                console.log(error);\n            })\n    }\n    fun(){\n        console.log(this.state)\n    }\n\n    render() {\n        return(\n            <div>\n            <h1>ORDERED ITEMS</h1>\n            <div className=\"form-group\">\n            <label>search: </label>\n            <input type=\"text\" \n            className=\"form-control\" \n            value={this.state.email}\n            onChange={this.onChangeEmail}\n            />  \n            </div>\n            <table className=\"table table-striped\">\n            <thead>\n            <tr>\n            <th>Name</th>\n            <th>Status</th>\n            <th>Quantity Ordered</th>\n            <th>Quantity Left</th>\n            </tr>\n            </thead>\n            <tbody>\n            { \n                this.state.users.map((currentUser, i) => {\n                    return (\n                        <tr>\n                        <td>{currentUser.name}</td>\n                        <td>{currentUser.st}</td>\n                        <td>{currentUser.quantity}</td>\n                        <td>{currentUser.qtyleft}</td>\n                        </tr>\n                    )\n                })\n            }\n            </tbody>\n            </table>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}